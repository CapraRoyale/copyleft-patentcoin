<!DOCTYPE html>
<html lang="en" class="h-100">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="" />
    <title>HatchThink | Tokenize Your IP</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
      crossorigin="anonymous"
    />

    <link href="hatchthink.css" rel="stylesheet" />
  </head>
  <body class="d-flex h-100 text-center text-white bg-dark">
    <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column">
      <header class="mb-auto">
        <div>
          <h3 class="float-md-start mb-0">HatchThink</h3>
          <nav class="nav nav-masthead justify-content-center float-md-end">
            <a class="nav-link" href="index.html">Home</a>
            <a class="nav-link" href="submit.html">Submit</a>
            <a class="nav-link" href="collab.html">Collaborate</a>
            <a class="nav-link active" aria-current="page" href="search.html"
              >Search</a
            >
            <a class="nav-link" href="invest.html">Invest</a>
            <a class="nav-link" href="#">About</a>
          </nav>
        </div>
      </header>

      <main class="px-3">
        <h1>Search</h1>
        <br />
        <p class="lead">Begin Your Search Here!</p>

        <div class="row">
          <form action="#">
            <input
              type="text"
              id="description_input"
              placeholder="Idea Description"
            />

            <button id="idea_search" class="btn btn-sm fw-bold bg-white">
              Search
            </button>
          </form>
        </div>
        <br />
        <br />
        <div class="row row-cols-3 g-4" id="results_text"></div>
      </main>

      <footer class="mt-auto text-white-50 fs-6">
        <p>
          <small>
            tmplt by
            <a href="https://twitter.com/mdo" class="text-white">@mdo</a>
          </small>
        </p>
      </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
      $("#idea_search").on("click", function (event) {
        // Contain the form entry in a variable
        query = $("#description_input").val();
        // Put search query in a variable
        var queryURL =
          "https://developer.uspto.gov/ipmarketplace-api/search/query?searchText=" +
          query;
        // jQuery's AJAX function handles the RESTful API call
        $.ajax({
          url: queryURL,
          method: "GET",
        }).then(function (response) {
          var results = response.results;

          console.log(results);

          for (var i = 0; i < results.length; i++) {
            //
            id = results[i].recordIdentifier;
            //
            nameTxt = results[i].assigneeNameText;
            //
            text = results[i].inventionAbstractText;
            //
            result =
              '<div class="col"><div class="card h-100 bg-secondary text-light"><div class="card-header text-dark"> ID: ' +
              id +
              " - " +
              nameTxt +
              "</div>" +
              '<div class="card-body"><div class="col truncate">' +
              text +
              "</div></div></div></div><br><br>";
            //
            $("#results_text").append(result);
          }
        });
      });
    </script>
  </body>
</html>
